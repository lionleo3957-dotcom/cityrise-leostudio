<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CityRise Game</title>
<style>
/* LOADING SCREEN */
#loading-screen {
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:black;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:50px;
  z-index:9999;
}
#loading-screen span.red{color:red;}
#loading-screen span.yellow{color:yellow;}

/* GAME LAYOUT */
body {margin:0; font-family:Arial, sans-serif; background:#e0e0e0;}
#game-container {display:flex; height:100vh;}
#display-panel {width:200px; background:#2c3e50; color:white; padding:10px;}
#display-panel button {width:100%; margin:5px 0; padding:10px; cursor:pointer;}
#game-world {flex:1; background:#bdc3c7; padding:20px; position:relative;}
#phone {
  position:absolute; bottom:20px; right:20px;
  width:200px; height:300px; background:#000; color:#0f0;
  padding:10px; border-radius:10px; font-size:14px;
}
#log {margin-top:10px; height:100px; overflow-y:auto; background:#fff; color:#000; padding:5px;}
</style>
</head>
<body>

<!-- LOADING SCREEN -->
<div id="loading-screen">
  <h1><span class="red">LEO</span> <span class="yellow">STUDIO</span></h1>
</div>

<!-- GAME -->
<div id="game-container">
  <div id="display-panel">
    <h3>Display</h3>
    <button onclick="showSkills()">Skill</button>
    <p id="skills-display">Skills: </p>
  </div>
  <div id="game-world">
    <h2>CityRise Open World Prototype</h2>
    <div id="phone">
      <p id="day-date">Day 1, 8:00 AM</p>
      <p id="leobank">Leobank Balance: ‚ú¶10</p>
      <button onclick="checkBank()">Check Bank</button>
    </div>
    <div id="log"></div>
  </div>
</div>

<script>
// LOADING SCREEN
window.addEventListener('load', () => {
  setTimeout(() => {
    const loadingScreen = document.getElementById('loading-screen');
    loadingScreen.style.transition = "opacity 1s";
    loadingScreen.style.opacity = 0;
    setTimeout(() => {loadingScreen.style.display = "none";},1000);
  },2000);
});

// GAME VARIABLES
let day=1,hours=8,minutes=0;
let LUMA=10; // Parents daily
let skills = {"Driving":0,"App Development":0,"Logic":0,"Customer Service":0};

// SKILL DISPLAY
function showSkills(){
  let skillText="Skills:\n";
  for(let key in skills){ skillText += ${key}: ${skills[key]}%\n; }
  document.getElementById("skills-display").innerText = skillText;
}

// PHONE CHECK BANK
function checkBank(){
  let crash = Math.random();
  if(crash<0.2){ logMessage("Leobank temporarily unavailable! ‚ùå"); }
  else { logMessage(Current Balance: ‚ú¶${LUMA}); }
}

// LOG MESSAGES
function logMessage(msg){
  let logDiv=document.getElementById("log");
  logDiv.innerHTML += msg + "<br>";
  logDiv.scrollTop = logDiv.scrollHeight;
}

// UPDATE PHONE UI
function updatePhone(){
  document.getElementById("day-date").innerText=Day ${day}, ${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')} AM;
  document.getElementById("leobank").innerText=Leobank Balance: ‚ú¶${LUMA};
}

// ADVANCE TIME
function advanceTime(minutesToAdd){
  minutes += minutesToAdd;
  if(minutes >= 60){ hours += Math.floor(minutes/60); minutes %=60; }
  if(hours >=24){ hours -=24; day+=1; LUMA+=10; logMessage("Parents gave ‚ú¶10 LUMA"); }
  if(hours>=20){ logMessage("Taxi work must end! Go home üè†"); }
  updatePhone();
}

// TAXI CUSTOMER EVENT
function taxiCustomer(){
  let earning=Math.floor(Math.random()*51)+50; // ‚ú¶50-100
  let paymentType = Math.random()<0.5?"Cash":"Bank";
  if(paymentType==="Bank"){
    if(Math.random()<0.1){ logMessage("Customer bank transfer failed!"); }
    else { LUMA+=earning; logMessage(Customer paid ‚ú¶${earning} via Bank ‚úÖ); }
  } else { LUMA+=earning; logMessage(Customer paid ‚ú¶${earning} in Cash ‚úÖ); }
  skills["Driving"] += 2;
  showSkills();
  updatePhone();
}

// SIMULATE TAXI RIDE (DEMO)
setInterval(()=>{
  taxiCustomer();
  advanceTime(30);
},20000); // every 20 sec

// INITIALIZE
updatePhone();
logMessage("Game Started! Day 1, 8:00 AM. ‚ú¶10 from parents.");
</script>

</body>
</html>
